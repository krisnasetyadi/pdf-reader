# ===========================================
# PDF-Reader API Configuration
# Copy this file to .env and fill in the values
# ===========================================

# ===========================================
# DATABASE CONFIGURATION
# ===========================================

# Option 1: DATABASE_URL (Recommended for cloud: Neon, Supabase, Railway)
# Format: postgresql://user:password@host:port/database?sslmode=require
# Example Neon: postgresql://user:pass@ep-xxx.us-east-2.aws.neon.tech/neondb?sslmode=require
DATABASE_URL=

# Option 2: Individual settings (fallback if DATABASE_URL not set)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=postgres
DB_USER=postgres
DB_PASSWORD=
DB_SSLMODE=prefer

# ===========================================
# LLM PROVIDER CONFIGURATION
# ===========================================

# Default LLM Provider: huggingface | ollama | gemini
LLM_PROVIDER=huggingface

# HuggingFace (Local - Default, FREE)
MODEL_NAME=google/flan-t5-base

# Ollama (Local - FREE, requires Ollama installed)
OLLAMA_MODEL=qwen2.5:7b
OLLAMA_BASE_URL=http://localhost:11434

# Gemini (Cloud - FREE tier 60 req/min)
# Get API key from: https://aistudio.google.com/apikey
GEMINI_API_KEY=
GEMINI_MODEL=gemini-1.5-flash

# ===========================================
# CORS CONFIGURATION
# ===========================================

# Comma-separated origins
# For production: https://yourdomain.com,https://app.yourdomain.com
# For development: http://localhost:3000,http://localhost:3001
# Use * to allow all origins (not recommended for production)
CORS_ORIGINS=*

# ===========================================
# MODEL SETTINGS (Optional)
# ===========================================

EMBEDDING_MODEL=sentence-transformers/paraphrase-multilingual-MiniLM-L12-v2
MAX_NEW_TOKENS=256
TEMPERATURE=0.3

# ===========================================
# FILE PATHS (Optional)
# ===========================================

UPLOAD_FOLDER=data/uploads
INDEX_FOLDER=data/indices
CHAT_UPLOAD_FOLDER=data/chat_uploads
CHAT_INDEX_FOLDER=data/chat_indices

# ===========================================
# RETRIEVAL PARAMETERS (Optional)
# ===========================================

CHUNK_SIZE=600
CHUNK_OVERLAP=100
K_RESULTS=5
K_PER_COLLECTION=3
TOTAL_K_RESULTS=8

# Chat-specific retrieval
CHAT_CHUNK_SIZE=10
CHAT_CHUNK_OVERLAP=2

# ===========================================
# HYBRID SEARCH (Optional)
# ===========================================

ENABLE_HYBRID_SEARCH=true
DB_RESULT_LIMIT=5
MIN_SIMILARITY_SCORE=0.75